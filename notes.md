- auto generate rules

    - when a rule is generated how is the category determined?

    - how is confidence determined?

    - recurring window should be +- 10 days

    - there should be no max on auto rules generated (currently 50?)

    - reduce category confidence to 0, 10, 20 and see what happens

    - conflict resolution

        - is this part of rule auto generation process or part of transaction -> category mapping process with all rules?

        - is this necessary if transactions are removed after creating a matching rule?

    - create an 'exclude' list that is a list of rules

    - higher token patterns should be given provide over lower token patterns
        - higher character words should also be given priority over lower character rules

    - reapply categories should not be called in backend when rules are saved - instead it should be called from frontend after transactions are reviewed

    - explanation for autogenerated rules should just say 'auto'

    - submit any transactions without autogenerated rules to LLM?

---

- during import instead of showing a "save rules" button show a "review transactions" button
    - clicking the "review transactions" button does not persist the rules to the backend
    - instead the "import transactions" button should be renamed to "save"
    - clicking 'save' at the final step updates persists both rules and transactions similarly to how they are currently persisted


---

- the "manage rules" should should use the same "rules review" components as used during import

- from the "manage rules" section after editing a set of rules
    - display a 'review transactions' button at the bottom when clicking displays:
        - the transactions table for review (same view component as used during import)
        - save button that updates both rules and transactions

- improve 'auto generate rules' algo

    - "the home depot #7073 EAST YORK" should result in "the home depot" or "home depot" instead of "the"


- review and clean up code ensuring that ‘pre existing’ rules are handled similarly to ‘auto generated’ rules 

    - the only thing that should be different is the rules list they are operating on

—

- review ‘auto generated’ rules logic

—

- fix logic for adding new rules
    - it should not get created in back-end until ‘continue to import’ button is pressed similarly as auto generated rules

—

- after importing, why do all auto generated rules say “50 transactions” ?  for example, ‘west’ says 50 transactions but then says “west” appears 150 times

- how is ‘confidence’ determined?

- explain auto generated rule stats

- after auto generating rules why are there still transactions that do not match any rules?

- what does the ‘delete rule’ action do?

    - when importing rules and showing auto generated rules, update the ‘delete’ rule action so that it prompts the user if they want to add it to an exclude list; if the user says “yes” then the same auto generated rule should not be created in the future; excluded rules should be persisted


- rules should have a field ‘source’ that is enum of either ‘auto’ or ‘user’ and rule cards should include this instead of ‘USER_RULE’

    - when creating an auto-generated rule the explanation should be empty
